CREATE TABLE `party` (`id` BINARY(16) NOT NULL, `identity` VARCHAR(20) NOT NULL, `type` VARCHAR(20) NOT NULL, `name` VARCHAR(50) NOT NULL, `email` VARCHAR(50) NULL, `enabled` BIT(1) NOT NULL, `creation_date` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, `modification_date` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, PRIMARY KEY (`id`), INDEX `identity` (`identity`), INDEX `type` (`type`), INDEX `name` (`name`), INDEX `enabled` (`enabled`), UNIQUE `type_identity` (`type`, `identity`) );
CREATE TABLE `party_rel` (`parent` BINARY(16) NOT NULL, `children` BINARY(16) NOT NULL, PRIMARY KEY (`parent`, `children`), INDEX `parent` (`parent`), INDEX `children` (`children`), CONSTRAINT `FK__party_rel_parent` FOREIGN KEY (`parent`) REFERENCES `party` (`id`), CONSTRAINT `FK__party_rel_children` FOREIGN KEY (`children`) REFERENCES `party` (`id`));